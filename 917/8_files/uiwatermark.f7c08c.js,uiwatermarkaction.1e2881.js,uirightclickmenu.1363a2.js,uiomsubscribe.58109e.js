
/*! Txplayer - v3.0.0 - 2017-09-12 22:42:51
 * Copyright (c) 2017
 * Powered by Tencent-Video Web Front End Team 
*/
!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}({0:function(a,b,c){a.exports=c(223)},223:function(a,b,c){function d(a){e=Txplayer.$,this.dataset={},this.context=a,this.init()}var e=Txplayer.$,f=Txplayer.util,g=c(224);d.prototype={init:function(){this.write(),this.addEventListerner(),this.exportsModuleApis(),this.dataset.errorCount=0,this.dataset.defaultImg="//i.gtimg.cn/qqlive/images/20170222/qing_224_70.png",this.dataset.$video=this.context.dataset.$videomod.find("video")},write:function(){var a={hideClass:Txplayer.dataset.hideClass,watermarkMod:"txp-ui-watermark-mod"},b=e.tmpl(g,a);this.context.dataset.$playermod.append(b),this.dataset.$watermarkMod=this.context.dataset.$playermod.find('[data-role="'+a.watermarkMod+'"]')},remove:function(){this.dataset.$watermarkMod.remove()},showWaterMarks:function(){this.context.dataset.isPlayingAd||0!=this.context.dataset.buildWaterMarkActionFail&&this.dataset.$watermarkMod.removeClass(Txplayer.dataset.hideClass)},hideWaterMarks:function(){this.dataset.$watermarkMod.addClass(Txplayer.dataset.hideClass)},changeCss:function(a,b,c){var d=this,e=0,f=0;c=c?c/100:1;var g,h;1==c&&(d.dataset.sca=this.dataset.$video.width()/d.dataset.vw>this.dataset.$video.height()/d.dataset.vh?this.dataset.$video.height()/d.dataset.vh:this.dataset.$video.width()/d.dataset.vw),g=d.dataset.vw*d.dataset.sca*c,h=d.dataset.vh*d.dataset.sca*c,e=(this.context.dataset.$playermod.width()-g)/2,f=(this.context.dataset.$playermod.height()-h)/2,e<0&&(e=0),f<0&&(f=0);var i=parseInt(b.w*d.dataset.sca*c),j=parseInt(b.h*d.dataset.sca*c),k=parseInt(e+g-i-b.x/d.dataset.vw*g),l=parseInt(f+b.y/d.dataset.vh*h);(k<e||k>e+g-i||l<f||l>f+h-j)&&a.hide(),a.css({width:i,height:j,left:k,top:l})},getWaterMarkInfos:function(){var a=this.context.dataset.getinfoJSON;return a&&a.vl&&a.vl.vi&&"object"===e.type(a.vl.vi[0])&&(this.dataset.vw=a.vl.vi[0].vw,this.dataset.vh=a.vl.vi[0].vh,a.vl.vi[0].wl&&a.vl.vi[0].wl.wi&&"array"===e.type(a.vl.vi[0].wl.wi))?a.vl.vi[0].wl.wi:[]},buildWaterMarks:function(a){var b=this;b.dataset.$watermarkMod.children().remove(),b.dataset.watermarkInfos=b.getWaterMarkInfos(),b.dataset.watermarkInfos.length<1||(b.dataset.errorCount=0,e.each(b.dataset.watermarkInfos,function(a,c){var d="https:"===location.protocol?c.surl:c.url;if(d&&c.w&&c.h){var f=document.createElement("img"),g=e(f);g.addClass("txp_waterMark_pic"),g.attr("id",a),g.attr("src",d),g.css({position:"absolute"}),b.changeCss(g,c),b.dataset.$watermarkMod.append(g),b.dealWaterMarkEvent(g)}}))},dealWaterMarkEvent:function(a){var b=this;a.on("error",function(){return this.src==b.dataset.defaultImg?void a.remove():(b.dataset.errorCount++,void(b.dataset.errorCount>=b.dataset.watermarkInfos.length?a.attr("src",b.dataset.defaultImg):a.remove()))}),a.on("load",function(){var c,d=a.siblings(),f=d.length;if(0!=f)for(c=0;c<f;c++)if(b.hitTest(a,e(d[c]))){a.remove();break}})},hitTest:function(a,b){var c=parseInt(a.css("top").slice(0,-2)),d=parseInt(b.css("top").slice(0,-2)),e=parseInt(a.css("left").slice(0,-2)),f=parseInt(b.css("left").slice(0,-2));return!(e>f+b.width()||c>d+b.height()||f>e+a.width()||d>c+a.height())},resize:function(a){for(var b,c,d=this,f=this.dataset.$watermarkMod.find(".txp_waterMark_pic"),g=0;g<f.length;g++)b=parseInt(e(f[g]).attr("id")),isNaN(b)||(c=d.dataset.watermarkInfos[b],d.changeCss(e(f[g]),c,a))},addEventListerner:function(){var a=this;this.dataset.eventsList={},window.PageMessage&&window.PageMessage.on("vlist-expand",function(b){setTimeout(function(){a.resize()},200)}),e(window).resize(function(){a.resize()}),this.dataset.eventsList[f.getUniqueMsgKey("windowFullscreenChange")]=function(){a.resize()},this.dataset.eventsList[f.getUniqueMsgKey("browserFullscreenChange")]=function(){setTimeout(function(){a.resize()},200)},this.dataset.eventsList[f.getUniqueMsgKey("videoScreenPercentChange")]=function(b){a.resize(b)},this.dataset.eventsList[f.getUniqueMsgKey("getVideoUrlSuccess")]=function(){return a.dataset.hasBuild=!0,a.context.dataset.isDefinitionSwitching?(a.context.msg.off("setDefinitionDone.buildWaterMarks"),void a.context.msg.once("setDefinitionDone.buildWaterMarks",function(){a.buildWaterMarks()})):(a.buildWaterMarks(),void a.hideWaterMarks())},this.dataset.eventsList[f.getUniqueMsgKey("videoTimeUpdate")]=function(b){a.dataset.hasBuild||(a.dataset.hasBuild=!0,a.buildWaterMarks())},this.dataset.eventsList[f.getUniqueMsgKey("resize")]=function(){a.resize()},a.dataset.eventsList[f.getUniqueMsgKey("smallWindowModeChange")]=function(b,c){setTimeout(function(){a.resize()},100)},this.dataset.eventsList[f.getUniqueMsgKey("videoPlaying")]=function(b){if(b&&"film"!=b.playListType)a.hideWaterMarks();else{if(a.context.dataset.isDefinitionSwitching)return;a.showWaterMarks()}},this.dataset.eventsList[f.getUniqueMsgKey("videoEnd")]=function(b){b.isAllEnd&&!a.context.dataset.canPlayTime&&a.hideWaterMarks()},this.dataset.eventsList[f.getUniqueMsgKey("isPlayingAdStatusChange")]=function(b){b&&a.hideWaterMarks()},this.dataset.eventsList[f.getUniqueMsgKey("vidChange")]=function(){a.dataset.errorCount=0,a.dataset.$watermarkMod.children().remove()},this.dataset.eventsList[f.getUniqueMsgKey("buildWaterMarkActionFail")]=function(){a.showWaterMarks()},e.each(this.dataset.eventsList,function(b,c){a.context.msg.on(b,c)})},exportsModuleApis:function(){}},Txplayer.register("UiWaterMark",d)},224:function(a,b){a.exports='<txpdiv data-role="<%=watermarkMod%>" class="txp-watermark <%=hideClass%>">\r\n</txpdiv>'}});
/*! Txplayer - v3.0.0 - 2017-09-12 22:42:51
 * Copyright (c) 2017
 * Powered by Tencent-Video Web Front End Team 
*/
!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}({0:function(a,b,c){a.exports=c(225)},225:function(a,b,c){function d(a){e=Txplayer.$,this.dataset={},this.context=a,this.init()}var e=Txplayer.$,f=Txplayer.util,g=c(226),h=c(227);d.prototype={init:function(){this.write(),this.addEventListerner(),this.exportsModuleApis(),this.dataset.errorCount={},this.context.dataset.buildWaterMarkActionFail=!1,this.dataset.defaultImg="//i.gtimg.cn/qqlive/images/20170222/qing_224_70.png",this.dataset.$video=this.context.dataset.$videomod.find("video")},write:function(){var a={hideClass:Txplayer.dataset.hideClass,watermarkActionMod:"txp-ui-watermark-action-mod"},b=e.tmpl(g,a);this.context.dataset.$playermod.append(b),this.dataset.$watermarkActionMod=this.context.dataset.$playermod.find('[data-role="'+a.watermarkActionMod+'"]')},remove:function(){this.dataset.$watermarkActionMod.remove()},showWaterMarks:function(a){this.context.dataset.isPlayingAd||a!=this.dataset.activeSenseID&&(this.dataset.activeSenseID=a,this.dataset.$watermarkActionMod.removeClass(Txplayer.dataset.hideClass),this.dataset.$watermarkActionMod.find(".txp-watermark-action-item").addClass(Txplayer.dataset.hideClass),e(this.dataset.$watermarkActionMod.find(".txp-watermark-action-item")[this.dataset.activeSenseID]).removeClass(Txplayer.dataset.hideClass))},hideWaterMarks:function(){this.dataset.activeSenseID=null,this.dataset.$watermarkActionMod.addClass(Txplayer.dataset.hideClass)},changeCss:function(a,b,c){var d=this,e=(d.dataset.vw>d.dataset.vh?d.dataset.vh:d.dataset.vw)/d.dataset.ActionData.rw,f=b.x*e,g=b.y*e,h=b.w*e,i=b.h*e,j=0,k=0;c=c?c/100:1;var l,m;1==c&&(d.dataset.sca=this.dataset.$video.width()/d.dataset.vw>this.dataset.$video.height()/d.dataset.vh?this.dataset.$video.height()/d.dataset.vh:this.dataset.$video.width()/d.dataset.vw),l=d.dataset.vw*d.dataset.sca*c,m=d.dataset.vh*d.dataset.sca*c,j=(this.context.dataset.$playermod.width()-l)/2,k=(this.context.dataset.$playermod.height()-m)/2,j<0&&(j=0),k<0&&(k=0);var n=parseInt(h*d.dataset.sca*c),o=parseInt(i*d.dataset.sca*c),p=parseInt(j+l-n-f/d.dataset.vw*l),q=parseInt(k+g/d.dataset.vh*m);(p<j||p>j+l-n||q<k||q>k+m-o)&&a.hide(),a.css({width:n,height:o,left:p,top:q})},getWaterMarkAction:function(){var a,b=e.Deferred(),c=this.context.dataset.getinfoJSON;return c&&c.vl&&c.vl.vi&&"object"===e.type(c.vl.vi[0])&&(this.dataset.vw=c.vl.vi[0].vw,this.dataset.vh=c.vl.vi[0].vh,c.vl.vi[0].wl&&c.vl.vi[0].wl.action&&(a=c.vl.vi[0].wl.action)),a?(a=a.replace(/https?:/g,""),e.ajax({url:a,dataType:"jsonp",timeout:5e3,jsonpCallback:"txplayerJsonpCallBack_getwatermark"}).done(function(a){a?b.resolve(a):b.reject()}).fail(function(){b.reject()})):b.reject(),b},buildWaterMarkAction:function(a){var b=this;b.dataset.$watermarkActionMod.children().remove();var c=function(a){if(b.dataset.ActionData=a,b.dataset.ActionData&&b.dataset.ActionData.scenes&&"array"==e.type(b.dataset.ActionData.scenes)&&b.dataset.ActionData.scenes.length>0){var c={scenes:b.dataset.ActionData.scenes,hideClass:Txplayer.dataset.hideClass},d=e.tmpl(h,c);b.dataset.$watermarkActionMod.html(d),b.dataset.watermarkInfos=[];for(var f=0;f<b.dataset.ActionData.scenes.length;f++){b.dataset.watermarkInfos[f]=b.dataset.ActionData.scenes[f].wi;for(var g=0;g<b.dataset.ActionData.scenes[f].wi.length;g++){var i=b.dataset.ActionData.scenes[f].wi[g].url;if(!i||!b.dataset.ActionData.scenes[f].wi[g].w||!b.dataset.ActionData.scenes[f].wi[g].h)return;var j=document.createElement("img"),k=e(j);k.addClass("txp_waterMark_pic"),k.attr("id",g),k.attr("src",i),k.css({position:"absolute"}),b.changeCss(k,b.dataset.ActionData.scenes[f].wi[g]),e(e(".txp-watermark-action-item")[f]).append(j),b.dealWaterMarkEvent(k,f)}}}};b.dataset.errorCount={},b.getWaterMarkAction().done(function(a){a||(b.context.dataset.buildWaterMarkActionFail=!0,b.context.msg.broadcast("buildWaterMarkActionFail")),c(a)}).fail(function(){b.context.dataset.buildWaterMarkActionFail=!0,b.context.msg.broadcast("buildWaterMarkActionFail")})},dealWaterMarkEvent:function(a,b){var c=this;a.on("error",function(){return this.src==c.dataset.defaultImg?void a.remove():(c.dataset.errorCount[b]||(c.dataset.errorCount[b]=0),c.dataset.errorCount[b]++,void(c.dataset.errorCount[b]>=c.dataset.ActionData.scenes[b].wi.length?a.attr("src",c.dataset.defaultImg):a.remove()))}),a.on("load",function(){var b,d=a.siblings(),f=d.length;if(0!=f)for(b=0;b<f;b++)if(c.hitTest(a,e(d[b]))){a.remove();break}})},hitTest:function(a,b){var c=parseInt(a.css("top").slice(0,-2)),d=parseInt(b.css("top").slice(0,-2)),e=parseInt(a.css("left").slice(0,-2)),f=parseInt(b.css("left").slice(0,-2));return!(e>f+b.width()||c>d+b.height()||f>e+a.width()||d>c+a.height())},resize:function(a){for(var b,c,d=this,f=this.dataset.$watermarkActionMod.find(".txp-watermark-action-item"),g=0;g<f.length;g++){b=parseInt(e(f[g]).data("scenesid")),c=d.dataset.watermarkInfos[b];for(var h=e(f[g]).find(".txp_waterMark_pic"),i=0;i<c.length;i++){var j=parseInt(e(h[i]).attr("id"));isNaN(j)||d.changeCss(e(h[i]),c[j],a)}}},addEventListerner:function(){var a=this;this.dataset.eventsList={},window.PageMessage&&window.PageMessage.on("vlist-expand",function(b){setTimeout(function(){a.resize()},200)}),e(window).resize(function(){a.resize()}),this.dataset.eventsList[f.getUniqueMsgKey("windowFullscreenChange")]=function(){a.resize()},this.dataset.eventsList[f.getUniqueMsgKey("browserFullscreenChange")]=function(){setTimeout(function(){a.resize()},200)},this.dataset.eventsList[f.getUniqueMsgKey("videoScreenPercentChange")]=function(b){a.resize(b)},a.dataset.eventsList[f.getUniqueMsgKey("smallWindowModeChange")]=function(b,c){setTimeout(function(){a.resize()},100)},this.dataset.eventsList[f.getUniqueMsgKey("getVideoUrlSuccess")]=function(){return a.context.dataset.buildWaterMarkActionFail=!1,a.dataset.activeSenseID=null,a.dataset.hasBuild=!0,a.context.dataset.isDefinitionSwitching?(a.context.msg.off("setDefinitionDone.buildWaterMarksAction"),void a.context.msg.once("setDefinitionDone.buildWaterMarksAction",function(){a.buildWaterMarkAction()})):void a.buildWaterMarkAction()},this.dataset.eventsList[f.getUniqueMsgKey("videoTimeUpdate")]=function(b){a.dataset.hasBuild||(a.dataset.hasBuild=!0,a.buildWaterMarkAction())},this.dataset.eventsList[f.getUniqueMsgKey("resize")]=function(){a.resize()},this.dataset.eventsList[f.getUniqueMsgKey("videoPlaying")]=function(b){b&&"film"!=b.playListType&&a.hideWaterMarks()},this.dataset.eventsList[f.getUniqueMsgKey("isPlayingAdStatusChange")]=function(b){b&&a.hideWaterMarks()},this.dataset.eventsList[f.getUniqueMsgKey("videoTimeUpdate")]=function(b){if(!a.context.dataset.isPlayingAd&&!a.context.dataset.isDefinitionSwitching&&a.dataset.ActionData&&a.dataset.ActionData.duration){var c=a.dataset.ActionData.start/1e3+a.dataset.ActionData.duration/1e3*a.dataset.ActionData.repeat,d=!1;if(0==a.dataset.ActionData.repeat||a.context.dataset.currentTime<c){for(var e=(a.context.dataset.currentTime-a.dataset.ActionData.start/1e3)%(a.dataset.ActionData.duration/1e3),f=0;f<a.dataset.ActionData.scenes.length;f++)if(e>=a.dataset.ActionData.scenes[f]["in"]/1e3&&e<a.dataset.ActionData.scenes[f].out/1e3){d=!0,a.showWaterMarks(f);break}d||a.hideWaterMarks()}else a.hideWaterMarks()}},this.dataset.eventsList[f.getUniqueMsgKey("videoEnd")]=function(b){b.isAllEnd&&!a.context.dataset.canPlayTime&&a.hideWaterMarks()},this.dataset.eventsList[f.getUniqueMsgKey("vidChange")]=function(){a.dataset.errorCount={},a.dataset.$watermarkActionMod.children().remove()},e.each(this.dataset.eventsList,function(b,c){a.context.msg.on(b,c)})},exportsModuleApis:function(){}},Txplayer.register("UiWaterMarkAction",d)},226:function(a,b){a.exports='<txpdiv data-role="<%=watermarkActionMod%>" class="txp-watermark-action <%=hideClass%>">\r\n</txpdiv>'},227:function(a,b){a.exports='<% for(var len = scenes.length,i=0; i < len; i++){%>\r\n  <txpdiv class="txp-watermark-action-item <%=hideClass%>" data-scenesid="<%= i %>">\r\n\r\n  </txpdiv>\r\n<% } %>'}});
/*! Txplayer - v3.0.0 - 2017-09-12 22:42:51
 * Copyright (c) 2017
 * Powered by Tencent-Video Web Front End Team 
*/
!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}({0:function(a,b,c){a.exports=c(204)},204:function(a,b,c){function d(a){f=Txplayer.$,this.dataset={},this.context=a,this.dataset.hideClass="txp_none",this.dataset.showClass="txp_show",this.init()}function e(a){j&&(i||(i=document.getElementsByClassName("txp_clipboard")[0]),i.value=a,i.select(),i.setSelectionRange(0,a.length),document.execCommand("copy"))}var f,g=c(205),h=c(206),i=null,j=document.queryCommandSupported&&document.queryCommandSupported("copy"),k=Txplayer.util;d.prototype={init:function(){j&&(this.write(),this.addEventListener())},write:function(){var a=this,b={rightClickMenuWrapper:"txp-right-click-menu-wrapper",videoInfo:"txp-right-click-menu-video-info",copyCurrentPageUrl:"txp-right-click-menu-copy-current-page-url",copyCurrentTimePageUrl:"txp-right-click-menu-copy-current-time-page-url",copyConsole:"txp-right-click-menu-copy-console",copyPlayerVersion:"txp-right-click-menu-copy-player-version"},c={rightClickMenuCopySuccess:"txp-right-click-menu-copy-success"};b.playerVersion=Txplayer.dataset.ver,this.dataset.renderData=b;var d=f.tmpl(g,b);f("body").append(d),this.dataset.$playermod=this.context.dataset.$playermod,this.dataset.$playermod.append(f.tmpl(h,c)),a.dataset.$rightClickMenuWrapper=f("body").find('[data-role="'+b.rightClickMenuWrapper+'"]'),["videoInfo","copyCurrentPageUrl","copyCurrentTimePageUrl","copyConsole","copyPlayerVersion"].forEach(function(c){a.dataset["$"+c]=a.dataset.$rightClickMenuWrapper.find('[data-role="'+b[c]+'"]')}),a.dataset.$rightClickMenuCopySuccess=this.dataset.$playermod.find('[data-role="'+c.rightClickMenuCopySuccess+'"]')},remove:function(){this.dataset.$rightClickMenuWrapper&&this.dataset.$rightClickMenuWrapper.off("click").remove(),i&&document.body.removeChild(i)},addEventListener:function(){function a(a){return 0===o.length||(!!n.context.dataset.isPlayingAd||(!j||(!!k.browser.ie||(!(f(a.target).is(":visible")&&f(a.target).hasClass("txp_player")||f(a.target).parents().hasClass("txp_player"))||(b=a.clientX,c=a.clientY,h=n.context.dataset.$playermod.width(),i=n.context.dataset.$playermod.height(),l=n.context.dataset.$playermod.offset().left,m=n.context.dataset.$playermod.offset().top,d=n.dataset.$rightClickMenuWrapper.width(),g=n.dataset.$rightClickMenuWrapper.outerHeight(),b-l>h-d&&(n.context.dataset.isWindowFullscreen||n.context.dataset.isBrowserFullscreen||!k.isVqqOrFilmqq())&&(b=h-d+l),c-m>i-g&&(n.context.dataset.isWindowFullscreen||n.context.dataset.isBrowserFullscreen||!k.isVqqOrFilmqq())&&(c=i-g+m),n.dataset.$rightClickMenuWrapper.css({left:b,top:c}),n.show(),!1)))))}var b,c,d,g,h,i,l,m,n=this,o=f("#txplayer_"+n.context.dataset.playerId);n.context.dataset.$playermod.contextmenu?n.context.dataset.$playermod.contextmenu(a):f(window).on("contextmenu",a),f(window).on("click",function(a){1==a.which&&n.hide()}),this.dataset.$rightClickMenuWrapper.on("click",function(a){var b=a.target,c=b.getAttribute("data-role"),d="",f=n.dataset.renderData;switch(c){case f.copyCurrentPageUrl:d=location.protocol+"//v.qq.com/x/page/"+n.context.dataset.vid+".html";break;case f.copyCurrentTimePageUrl:d=k.appendParamsToUrl(location.protocol+"//v.qq.com/x/page/"+n.context.dataset.vid+".html",{start:n.context.dataset.currentTime});break;case f.copyConsole:d=n.context.msg.getData("getConsoleData")||"还没有调试信息喔",window.JSON&&JSON.stringify&&(d=JSON.stringify(d));break;case f.copyPlayerVersion:d=Txplayer.dataset.ver}c==f.videoInfo?n.context.msg.broadcast("showUiConsole"):e(d),n.hide(),n.dataset.$rightClickMenuCopySuccess.removeClass("txp_none").addClass(n.dataset.showClass),setTimeout(function(){n.dataset.$rightClickMenuCopySuccess.addClass("txp_none").removeClass(n.dataset.showClass)},1e3)}),this.dataset.eventsList={},this.dataset.eventsList[k.getUniqueMsgKey("windowFullscreenChange")]=function(a){a?n.dataset.$playermod.append(n.dataset.$rightClickMenuWrapper):f("body").append(n.dataset.$rightClickMenuWrapper)},this.dataset.eventsList[k.getUniqueMsgKey("browserFullscreenChange")]=function(a){a?n.dataset.$playermod.append(n.dataset.$rightClickMenuWrapper):f("body").append(n.dataset.$rightClickMenuWrapper)},f.each(this.dataset.eventsList,function(a,b){n.context.msg.on(a,b)})},hide:function(){this.context.dataset.isRightClickMenu=!1,this.dataset.$rightClickMenuWrapper.addClass(this.dataset.hideClass)},show:function(){this.context.dataset.isRightClickMenu=!0,this.dataset.$rightClickMenuWrapper.removeClass(this.dataset.hideClass)}},Txplayer.register("UiRightClickMenu",d)},205:function(a,b){a.exports='<txpdiv class="txp_contextmenu txp_none" data-role="<%=rightClickMenuWrapper%>" style="overflow:hidden">\r\n    <txpdiv class="txp_menuitem" data-role="<%=videoInfo%>">视频信息</txpdiv>\r\n    <txpdiv class="txp_menuitem" data-role="<%=copyCurrentPageUrl%>">复制视频页面地址</txpdiv>\r\n    <txpdiv class="txp_menuitem" data-role="<%=copyCurrentTimePageUrl%>">复制当前时间的页面地址</txpdiv>\r\n    <txpdiv class="txp_menuitem" data-role="<%=copyConsole%>">复制调试信息</txpdiv>\r\n    <txpdiv class="txp_menuitem" data-role="<%=copyPlayerVersion%>"><%=playerVersion%></txpdiv>\r\n    <textarea class="txp_clipboard" style="position: absolute; left: 100%; top: 0px;"></textarea>\r\n    <!--<textarea class="ytp-html5-clipboard" style="position: absolute; left: -9999px; top: 0px;"></textarea>-->\r\n</txpdiv>\r\n'},206:function(a,b){a.exports='<txpdiv class="txp_overlay_link txp_none" data-role="<%=rightClickMenuCopySuccess%>">\r\n    <txpdiv class="txp_icon_link">\r\n        <svg class="txp_icon" version="1.1" viewBox="0 0 36 36" >\r\n            <use class="txp_svg_symbol" xlink:href="#txp_svg_link" />\r\n        </svg>\r\n    </txpdiv>\r\n</txpdiv>\r\n'}});
/*! Txplayer - v3.0.0 - 2017-09-12 22:42:51
 * Copyright (c) 2017
 * Powered by Tencent-Video Web Front End Team 
*/
!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}({0:function(a,b,c){a.exports=c(177)},177:function(a,b,c){function d(a){e=Txplayer.$,this.dataset={},this.context=a,this.init()}var e,f=c(178),g=Txplayer.util;d.prototype={init:function(){this.write(),this.addEventListener();try{this.context.userMsg.broadcast("brandApiReady")}catch(a){}},write:function(){var a=this,b={subscribe:"txp-ui-subscribe",avatar:"txp-ui-subscribe-avatar",avatarImg:"txp-ui-subscribe-avatar-img",content:"txp-ui-subscribe-content",title:"txp-ui-subscribe-title",subscribeBtn:"txp-ui-subscribe-btn"};this.dataset.renderData=b;var c=e.tmpl(f,b);this.context.dataset.$playermod.append(c),["subscribe","avatar","avatarImg","content","title","subscribeBtn"].forEach(function(c){a.dataset["$"+c]=a.context.dataset.$playermod.find('[data-role="'+b[c]+'"]')})},getBrandData:function(){var a="function"===e.type(this.context.config.getBrandData)?this.context.config.getBrandData(this.context.dataset.vid):{};return a&&a.vid==this.context.dataset.vid&&a.info?1==a.game?{isGame:!0,nick:a.info.nick||"",avatar:a.info.avatar||"",urlfull:a.info.urlfull||"",btnname:a.info.btnname}:{isGame:!1,nick:a.info.nick||"",avatar:a.info.avatar||"",num:this.filterNum(a.info.count1)}:{}},initShow:function(){var a=this.getBrandData();if(!a||!a.avatar||!a.nick)return this.dataset.$subscribe.addClass("txp_none"),this.dataset.$avatarImg.removeAttr("src"),this.dataset.$title.html(""),void this.dataset.$subscribeBtn.html("");if(this.dataset.brandData=a,this.dataset.$avatarImg.removeClass("txp_none"),this.dataset.$avatarImg.attr("src",a.avatar),this.dataset.$avatarImg.on("error",function(){e(this).addClass("txp_none")}),this.dataset.$title.html(a.nick),a.isGame){var b="进入官网";a.btnname&&(b=a.btnname),this.dataset.$subscribeBtn.html(b)}else this.dataset.$subscribeBtn.html(this.dataset.isSubscribe?"已订阅"+this.dataset.brandData.num:"订阅"+this.dataset.brandData.num),this.dataset.isSubscribe?this.dataset.$subscribeBtn.addClass("txp_btn_subscribe_done"):this.dataset.$subscribeBtn.removeClass("txp_btn_subscribe_done");this.dataset.$subscribe.removeClass("txp_none")},filterNum:function(a){return"number"!=e.type(a)?"":a>1e4?(Math.round(a/1e3)/10).toFixed(1)+"万":a>1e8?(Math.round(a/1e7)/10).toFixed(1)+"亿":a},remove:function(){this.dataset.$subscribe&&this.dataset.$subscribe.remove()},show:function(){this.dataset.$content.addClass("txp_show")},hide:function(){this.dataset.$content.removeClass("txp_show")},hasSupportBrandApi:function(){return"function"===e.type(this.context.config.brandSubscribeHandler)},setVPlusSubStatus:function(a){this.dataset.isSubscribe=a,this.dataset.brandData&&(this.dataset.brandData.isGame||(this.dataset.$subscribeBtn.html(this.dataset.isSubscribe?"已订阅"+this.dataset.brandData.num:"订阅"+this.dataset.brandData.num),this.dataset.isSubscribe?this.dataset.$subscribeBtn.addClass("txp_btn_subscribe_done"):this.dataset.$subscribeBtn.removeClass("txp_btn_subscribe_done")))},emptyData:function(){this.hide(),this.dataset.brandData=null,this.dataset.hasShowFlag=!1,this.dataset.$subscribe.addClass("txp_none"),this.dataset.$avatarImg.removeAttr("src"),this.dataset.$title.html(""),this.dataset.$subscribeBtn.html("")},addEventListener:function(){var a=this;this.dataset.$subscribeBtn.on("click",function(){return a.dataset.brandData.isGame?void window.open(a.dataset.brandData.urlfull,"_blank"):void(a.hasSupportBrandApi()&&a.context.config.brandSubscribeHandler())}),this.dataset.$subscribeBtn.on("mouseenter",function(){a.dataset.brandData.isGame||e(this).hasClass("txp_btn_subscribe_done")&&e(this).html("取消订阅"+a.dataset.brandData.num)}),this.dataset.$subscribeBtn.on("mouseleave",function(){a.dataset.brandData.isGame||e(this).hasClass("txp_btn_subscribe_done")&&e(this).html("已订阅"+a.dataset.brandData.num)}),this.dataset.$avatar.on("mouseenter",function(b){e(b.relatedTarget).parents().hasClass("txp_subscribe")||a.show()}),this.dataset.$avatar.on("mouseleave",function(b){e(b.relatedTarget).parents().hasClass("txp_subscribe")||a.hide()}),this.dataset.$content.on("mouseleave",function(b){e(b.relatedTarget).parents().hasClass("txp_subscribe")||a.hide()}),this.dataset.eventsList={},this.dataset.eventsList[g.getUniqueMsgKey("vidChange")]=function(){a.emptyData()},this.dataset.eventsList[g.getUniqueMsgKey("videoPlaying")]=function(b){if(b&&"film"===b.playListType){if(a.dataset.hasShowFlag)return;a.dataset.hasShowFlag=!0,a.initShow()}else a.dataset.$subscribe.addClass("txp_none")},e.each(this.dataset.eventsList,function(b,c){a.context.msg.on(b,c)}),a.context.userMsg.on("brandStatusUpdate",function(b){a.setVPlusSubStatus(b)})}},Txplayer.register("UiOmSubscribe",d)},178:function(a,b){a.exports='<txpdiv data-role="<%=subscribe%>" class="txp_subscribe txp_none">\r\n    <txpdiv data-role="<%=content%>" class="txp_subscribe_content">\r\n        <txpdiv data-role="<%=title%>" class="txp_subscribe_title"></txpdiv>\r\n        <!-- txp_btn_subscribe_done  已订阅-->\r\n        <txpdiv class="txp_btn_subscribe" data-role="<%=subscribeBtn%>" >\r\n        </txpdiv>\r\n    </txpdiv>\r\n    <txpdiv data-role="<%=avatar%>" class="txp_subscribe_avatar" >\r\n        <img data-role="<%=avatarImg%>">\r\n    </txpdiv>\r\n</txpdiv>\r\n'}});